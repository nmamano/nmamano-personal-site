<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Nil Mamano | Blog</title>
  <meta name="person" content="Nil Mamano">
  <meta name="sortname" content="Mamano, Nil">
  <meta name="keywords" content="personal site,computer science,blog">
  <meta name="description" content="Welcome to my personal website. I'm Nil, a computer scientist.">
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link href="../../css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="../../css/academicons.min.css"/>

  <script type="text/javascript"> (function() { var css = document.createElement('link'); css.href = 'https://use.fontawesome.com/releases/v5.1.0/css/all.css'; css.rel = 'stylesheet'; css.type = 'text/css'; document.getElementsByTagName('head')[0].appendChild(css); })(); </script>
</head>

<body class="blogpostpage">
  <main class="blogpost">
    <div class="blogreturn">
      <p>Return to the <a href="../../blog.html">blog's main page</a>.</p>
    </div>
    
    <div id="mdToHtml"></div>

    <div class="blogreturn">
      <p>Return to the <a href="../../blog.html">blog's main page</a>.</p>
    </div>
  </main>

  <iframe id="frmFile" src="dynamic.md" onload="LoadFile();" style="display: none;"></iframe>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
  <script type="text/javascript">

    function LoadFile() {
      // taken from: https://github.com/showdownjs/showdown/issues/577#issuecomment-417181311 
      showdown.extension('highlight', function () {
        return [{
          type: "output",
          filter: function (text, converter, options) {
            var left = "<pre><code\\b[^>]*>",
                right = "</code></pre>",
                flags = "g";
            var replacement = function (wholeMatch, match, left, right) {
              var lang = (left.match(/class=\"([^ \"]+)/) || [])[1];
              left = left.slice(0, 18) + 'hljs ' + left.slice(18);
              match = match
              .replace(/&amp;/g, '&')
              .replace(/&lt;/g, '<')
              .replace(/&gt;/g, '>')
              if (lang && hljs.getLanguage(lang)) {
                return left + hljs.highlight(lang, match).value + right;
              } else {
                return left + hljs.highlightAuto(match).value + right;
              }
            };
            return showdown.helper.replaceRecursiveRegExp(text, replacement, left, right, flags);
          }
        }];
      });

      var oFrame = document.getElementById("frmFile");
      var text = oFrame.contentWindow.document.body.childNodes[0].innerText;
      var target = document.getElementById('mdToHtml');
      var converter = new showdown.Converter({
        extensions: ['highlight']
      });
      converter.setOption('parseImgDimensions', true);
      converter.setOption('simplifiedAutoLink', true);
      converter.setOption('ghCodeBlocks', true);
      // converter.setOption('smoothLivePreview', true);
      converter.setFlavor('github');
      target.innerHTML = converter.makeHtml(text);
    }
  </script>


</body>

